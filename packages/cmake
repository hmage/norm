#!/bin/bash

fetch_source https://github.com/Kitware/CMake/releases/download/v3.31.8/cmake-3.31.8.tar.gz 40ca517e103a0b22c337bc15a5fbe615c08ad148

CONFFLAGS=(
--parallel="${NUMJOBS}" ## their ./configure compiles mini-cmake to compile full cmake later, defaults to 1 parallel
--
-DBUILD_CursesDialog=OFF ## opportunistic linking, but nobody uses ccmake (open a github issue if you do)
-DCMAKE_USE_OPENSSL=OFF  ## no need for SSL in _build_ system
)

## add -pthread otherwise it breaks on CentOS6
LDFLAGS="$LDFLAGS -pthread" \
do_unpack_compile "${CONFFLAGS[@]}"
