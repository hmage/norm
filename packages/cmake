#!/bin/bash

fetch_source https://github.com/Kitware/CMake/releases/download/v4.2.2/cmake-4.2.2.tar.gz fe09edf461e04f6b01074936480a6fc41d13e83a

CONFFLAGS=(
--parallel="${NUMJOBS}" ## their ./configure compiles mini-cmake to compile full cmake later, defaults to 1 parallel
--
-DBUILD_CursesDialog=OFF ## opportunistic linking, but nobody uses ccmake (open a github issue if you do)
-DCMAKE_USE_OPENSSL=OFF  ## no need for SSL in _build_ system
)

## add -pthread otherwise it breaks on CentOS6
LDFLAGS="$LDFLAGS -pthread" \
do_unpack_compile "${CONFFLAGS[@]}"
