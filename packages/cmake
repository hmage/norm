#!/bin/bash

fetch_source https://github.com/Kitware/CMake/releases/download/v4.0.3/cmake-4.0.3.tar.gz 6899c8d69ba2bf1f24c6f27bcea4162e1488694b

CONFFLAGS=(
--parallel="${NUMJOBS}" ## their ./configure compiles mini-cmake to compile full cmake later, defaults to 1 parallel
--
-DBUILD_CursesDialog=OFF ## opportunistic linking, but nobody uses ccmake (open a github issue if you do)
-DCMAKE_USE_OPENSSL=OFF  ## no need for SSL in _build_ system
)

## add -pthread otherwise it breaks on CentOS6
LDFLAGS="$LDFLAGS -pthread" \
do_unpack_compile "${CONFFLAGS[@]}"
